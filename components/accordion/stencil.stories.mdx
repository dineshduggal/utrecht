<!--
@license EUPL-1.2
Copyright (c) 2021 Robbert Broersma
-->

import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";

export const Template = ({ sections = [] }) =>
  `<utrecht-accordion>
  ${sections
    .map(
      ({ expanded, heading, panel }) => `<utrecht-accordion-section${expanded ? " expanded" : ""}>
    <utrecht-accordion-heading>${heading || ""}</utrecht-accordion-heading>
    <utrecht-accordion-panel>${panel || ""}</utrecht-accordion-panel>
  </utrecht-accordion-section>`
    )
    .join("\n")}
</utrecht-accordion>`;

<Meta
  title="Web Component/Accordion"
  argTypes={{
    sections: {
      description: "Sections",
      type: {
        name: "array",
        required: true,
      },
    },
  }}
  parameters={{
    docs: {
      transformSource: (_src, { args }) => Template(args),
    },
    status: {
      type: "WORK IN PROGRESS",
    },
  }}
/>

# Accordion

<Canvas>
  <Story
    name="Accordion"
    args={{
      sections: [
        {
          heading: "Most Frequently Asked Question",
          panel: "TODO",
        },
        {
          heading: "Second Most Frequently Asked Question",
          panel: "TODO",
        },
        {
          heading: "Question We Expect To Be Asked Frequently",
          panel: "TODO",
        },
        {
          heading: "Would You Like The Answer To A Rethorical Question?",
          expanded: true,
          panel: "No.",
        },
        {
          heading: "This Isn't Even A Question But You Should Read It Anyway",
          panel: "The CMS didn't allow me to add more content after the accordion, so I just put it here.",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
